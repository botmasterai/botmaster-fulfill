[![Build Status](https://travis-ci.org/botmasterai/botmaster-fulfill.svg?branch=master)](https://travis-ci.org/botmasterai/botmaster-fulfill)
[![Coverage Status](https://coveralls.io/repos/github/botmasterai/botmaster-fulfill-actions/badge.svg?branch=master)](https://coveralls.io/github/botmasterai/botmaster-fulfill-actions?branch=master)

# Botmaster fulfill

Battle-tested middleware for botmaster <https://botmasterai.github.io/>).

Enable chatbots to perform actions on Node.js.

Find the documentation at the main botmaster website: <http://botmasterai.com/middlewares/fulfill/>

## API Reference

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### isPendingActions

Test for remaining actions in a string

**Parameters**

-   `string` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** input string to test for actions
-   `actions` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** actions to test for

Returns **[Boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** whether any actions were found

### fulfill

Fulfill any actions found in the input text

**Parameters**

-   `actions` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** actions to run
-   `context` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** an object of aditional properties to expost though `params`
-   `input` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** the string to look for actions in
-   `tree` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)?** provided as a way to speed up recursion. You probably don't need to use this.
-   `cb` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** error first callback

### FulfillWare

Generate outgoing middleware for fulfill

**Parameters**

-   `options`  
    -   `options.actions` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** the actions to use
    -   `options.updateToContext` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** optional, a function that receives the botmaster {bot, update} and turns into the fulfill context
    -   `options.updateToResponse` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** optional, a function that receives the botmaster (bot, update} and turns into the fulfill response

Returns **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** outgoing middleware
